(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{147:function(e,t,a){},274:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(15),i=a.n(r),s=(a(147),a(65)),o=a(18),l=a(40),d=a(129),j=a(78),b=a(335),u=a(324),h=a(321),m=a(332),g=a(323),p=a(334),O=a(318),x=a(325),f=a(333),v=a(128),S=a.n(v),y=a(130),k=a(319),w=a(320),F=a(16),_=a(52),I=a.n(_),C=a(6);function T(){return Object(C.jsxs)(y.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(C.jsx)(O.a,{color:"inherit",href:"https://nekta.tech/",children:"NEKTA"})," ",(new Date).getFullYear(),"."]})}var D=Object(k.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),M=j.a().shape({email:j.b().matches(/.+@.+\..+/i,"Email \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c @. \u041f\u0440\u0438\u043c\u0435\u0440: email@example.com").required("\u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"),password:j.b().matches(/(.*?).{8,}/,"\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u043c\u0438\u043d\u0438\u043c\u0443\u043c \u0438\u0437 \u0432\u043e\u0441\u044c\u043c\u0438 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432").required("\u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f")}),N=function(){var e,t,a=Object(n.useState)(""),c=Object(o.a)(a,2),r=c[0],i=c[1],j=Object(n.useState)(""),v=Object(o.a)(j,2),k=v[0],_=v[1],N=Object(n.useState)([]),q=Object(o.a)(N,2),E=q[0],L=q[1],W=D(),B=Object(F.g)(),H=Object(l.d)({resolver:Object(d.a)(M)}),J=H.register,A=H.handleSubmit,P=H.formState.errors;return Object(C.jsxs)(w.a,{component:"main",maxWidth:"xs",children:[Object(C.jsx)(h.a,{}),Object(C.jsxs)("div",{className:W.paper,children:[Object(C.jsx)(b.a,{className:W.avatar,children:Object(C.jsx)(S.a,{})}),Object(C.jsx)(y.a,{component:"h1",variant:"h5",children:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"}),Object(C.jsxs)("form",{onSubmit:A((function(e){console.log(e),I()({method:"post",url:"https://core.nekta.cloud/api/auth/login ",data:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((function(e){localStorage.setItem("token",e.data.data.access_token),B.push("/devicesList"),console.log(e)})).catch((function(e){console.log("error",e.response.data.error.data.msg),L([e.response.data.error.data.msg]),console.dir(e)}))})),className:W.form,noValidate:!0,children:[Object(C.jsx)(m.a,Object(s.a)(Object(s.a)({value:r},J("email",{required:!0})),{},{onChange:function(e){i(e.target.value)},variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email",name:"email",type:"email",autoComplete:"email",autoFocus:!0})),null===(e=P.email)||void 0===e?void 0:e.message,Object(C.jsx)(m.a,Object(s.a)(Object(s.a)({value:k},J("password",{required:!0})),{},{onChange:function(e){_(e.target.value)},variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"\u041f\u0430\u0440\u043e\u043b\u044c",type:"password",id:"password",autoComplete:"current-password"})),null===(t=P.password)||void 0===t?void 0:t.message,E.map((function(e){return Object(C.jsx)("div",{children:e})})),Object(C.jsx)(g.a,{control:Object(C.jsx)(p.a,{value:"remember",color:"primary"}),label:"\u0417\u0430\u043f\u043e\u043c\u043d\u0438\u0442\u044c"}),Object(C.jsx)(u.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:W.submit,children:"\u0412\u043e\u0439\u0442\u0438"}),Object(C.jsxs)(x.a,{container:!0,children:[Object(C.jsx)(x.a,{item:!0,xs:!0,children:Object(C.jsx)(O.a,{href:"#",variant:"body2",children:"\u0417\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"})}),Object(C.jsx)(x.a,{item:!0,children:Object(C.jsx)(O.a,{href:"#",variant:"body2",children:"\u041d\u0435\u0442 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430? \u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0443\u0439\u0442\u0435\u0441\u044c"})})]})]})]}),Object(C.jsx)(f.a,{mt:8,children:Object(C.jsx)(T,{})})]})},q=a(327),E=a(331),L=a(330),W=a(326),B=a(328),H=a(329),J=a(322),A=Object(k.a)({table:{minWidth:650}}),P=function(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),a=t[0],c=t[1],r=Object(F.g)();Object(n.useEffect)((function(){localStorage.getItem("token")?I()({method:"post",url:"https://core.nekta.cloud/api/device/metering_devices",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))},data:{page:1,last_page:0,sort_field:"id",sort:"desc",search_string:null,device_state:"all",is_archived:!1,paginate:!0,append_fields:["active_polling","attributes","tied_point"],per_page:10}}).then((function(e){c(e.data.data.metering_devices.data)})).catch((function(e){console.log(e)})):r.push("/testTaskSignInForm")}),[r]);var i=A();return Object(C.jsx)(C.Fragment,{children:0===a.length?Object(C.jsx)("div",{children:"no devices"}):Object(C.jsx)(W.a,{component:J.a,children:Object(C.jsxs)(q.a,{className:i.table,"aria-label":"simple table",children:[Object(C.jsx)(B.a,{children:Object(C.jsxs)(H.a,{children:[Object(C.jsx)(L.a,{children:"ID"}),Object(C.jsx)(L.a,{align:"right",children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"}),Object(C.jsx)(L.a,{align:"right",children:"\u0414\u0430\u0442\u0430 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0435\u0439 \u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u0438"})]})}),Object(C.jsx)(E.a,{children:a.map((function(e){return Object(C.jsxs)(H.a,{children:[Object(C.jsx)(L.a,{component:"th",scope:"row",children:e.id}),Object(C.jsx)(L.a,{align:"right",children:e.name}),Object(C.jsx)(L.a,{align:"right",children:[e.last_active].map((function(e){var t=new Date(1e3*e),a=t.getFullYear(),n=t.getMonth()+1<10?"0".concat(t.getMonth()+1):t.getMonth()+1,c=t.getDate()<10?"0"+t.getDate():t.getDate(),r=t.getHours()<10?"0"+t.getHours():t.getHours(),i=t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes();return"".concat(c,".").concat(n,".").concat(a," ").concat(r,":").concat(i)}))})]},e.id)}))})]})})})},Y=a(72);var z=function(){return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(Y.a,{children:Object(C.jsxs)(F.d,{children:[Object(C.jsx)(F.a,{exact:!0,from:"/",to:"/testTaskSignInForm"}),Object(C.jsx)(F.b,{exact:!0,path:"/testTaskSignInForm",component:function(){return Object(C.jsx)(N,{})}}),Object(C.jsx)(F.b,{exact:!0,path:"/devicesList",component:function(){return Object(C.jsx)(P,{})}})]})})})},K=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,338)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;a(e),n(e),c(e),r(e),i(e)}))};I.a.defaults.baseURL="http://localhost:3000/testTaskSignInForm/",i.a.render(Object(C.jsx)(c.a.StrictMode,{children:Object(C.jsx)(z,{})}),document.getElementById("root")),K()}},[[274,1,2]]]);
//# sourceMappingURL=main.e3bcf27c.chunk.js.map